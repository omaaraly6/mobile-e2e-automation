appId: ${appId}
name: Booking Apps - Verify member can login successfully
tags:
    - booking_apps
onFlowStart:
    - runScript: ../pages/loginpage.js
---
- launchApp:
    appId: "${appId}"
    clearState: true
- runFlow:
    when:
      true: ${appId == 'com.zeal.challaztopfade' || appId == 'com.zeal.citicuts'}
    commands:
        - assertVisible: "Loyalty Card"
- tapOn: "Getting Started"
- runFlow:
    when:
      true: ${appId == 'com.zeal.challaztopfade'}
    commands:
        - assertVisible: "Welcome to Challaz Topfade"
- tapOn:
    id: ${output.loginpage.CountryCode}
- waitForAnimationToEnd:
    timeout: 1000
- tapOn:
    id: ${output.loginpage.SearchInput}
- inputText: "Egypt"
- tapOn:
    id:  ${output.loginpage.Egypt}
- tapOn:
    id:  ${output.loginpage.Egypt}
    # repeat: 2
    # delay: 3000
- tapOn:
    id: ${output.loginpage.PhoneNumber}
- inputText: "01020000002"
- tapOn: 
    text: "Continue"
- tapOn: 
    text: "Continue"    
- waitForAnimationToEnd:
    timeout: 1000
- copyTextFrom:
    id: "otp"
- pasteText
- assertVisible: "What would you like to do today?"